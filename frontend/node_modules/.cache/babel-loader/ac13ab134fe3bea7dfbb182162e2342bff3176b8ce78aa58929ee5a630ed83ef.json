{"ast":null,"code":"var _jsxFileName = \"C:\\\\Wedding-Planner-App\\\\frontend\\\\src\\\\Guest\\\\PhotoUploader.jsx\",\n  _s = $RefreshSig$();\n// PhotoUploader.jsx\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoUploader = ({\n  invitationId\n}) => {\n  _s();\n  const [photo, setPhoto] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const handleFileChange = e => {\n    setPhoto(e.target.files[0]);\n    setMessage(\"\");\n  };\n  const handleUpload = async () => {\n    if (!photo) {\n      setMessage(\"Please select a photo to upload.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"photo\", photo);\n    formData.append(\"invitationId\", invitationId);\n    try {\n      setLoading(true);\n      await axios.post(\"http://localhost:5000/api/guests/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setMessage(\"Upload successful! âœ¨\");\n      setPhoto(null);\n    } catch (err) {\n      setMessage(\"Upload failed: \" + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const isError = message.toLowerCase().includes(\"fail\") || message.toLowerCase().includes(\"please\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-form-inner\",\n    children: [message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-badge\",\n      style: isError ? {\n        background: \"#ffe6e6\",\n        color: \"#c0392b\"\n      } : {},\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"upload-label\",\n      htmlFor: \"photo-input\",\n      children: \"Photo file\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-dropzone\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-icon\",\n        children: \"\\uD83D\\uDCF7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-copy\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"upload-title\",\n          children: photo ? photo.name : \"Click to choose a photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"upload-subtitle\",\n          children: \"JPG / PNG \\u2013 max ~10 MB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"photo-input\",\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"btn-upload\",\n      onClick: handleUpload,\n      disabled: loading,\n      children: loading ? \"Uploadingâ€¦\" : \"Upload Photo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoUploader, \"AT87L68Dox2A9zByYTALccTGars=\");\n_c = PhotoUploader;\nexport default PhotoUploader;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploader\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","PhotoUploader","invitationId","_s","photo","setPhoto","message","setMessage","loading","setLoading","handleFileChange","e","target","files","handleUpload","formData","FormData","append","post","headers","err","isError","toLowerCase","includes","className","children","style","background","color","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","name","id","type","accept","onChange","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Wedding-Planner-App/frontend/src/Guest/PhotoUploader.jsx"],"sourcesContent":["// PhotoUploader.jsx\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst PhotoUploader = ({ invitationId }) => {\r\n  const [photo, setPhoto] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileChange = (e) => {\r\n    setPhoto(e.target.files[0]);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!photo) {\r\n      setMessage(\"Please select a photo to upload.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"photo\", photo);\r\n    formData.append(\"invitationId\", invitationId);\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axios.post(\r\n        \"http://localhost:5000/api/guests/upload\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n      setMessage(\"Upload successful! âœ¨\");\r\n      setPhoto(null);\r\n    } catch (err) {\r\n      setMessage(\"Upload failed: \" + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const isError =\r\n    message.toLowerCase().includes(\"fail\") ||\r\n    message.toLowerCase().includes(\"please\");\r\n\r\n  return (\r\n    <div className=\"add-form-inner\">\r\n      {message && (\r\n        <div\r\n          className=\"status-badge\"\r\n          style={isError ? { background: \"#ffe6e6\", color: \"#c0392b\" } : {}}\r\n        >\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <label className=\"upload-label\" htmlFor=\"photo-input\">\r\n        Photo file\r\n      </label>\r\n\r\n      <div className=\"upload-dropzone\">\r\n        <div className=\"upload-icon\">ðŸ“·</div>\r\n        <div className=\"upload-copy\">\r\n          <span className=\"upload-title\">\r\n            {photo ? photo.name : \"Click to choose a photo\"}\r\n          </span>\r\n          <span className=\"upload-subtitle\">\r\n            JPG / PNG â€“ max ~10 MB\r\n          </span>\r\n        </div>\r\n        {/* real input is invisible but clickable */}\r\n        <input\r\n          id=\"photo-input\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={handleFileChange}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn-upload\"\r\n        onClick={handleUpload}\r\n        disabled={loading}\r\n      >\r\n        {loading ? \"Uploadingâ€¦\" : \"Upload Photo\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoUploader;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}