{"ast":null,"code":"// src/Guest/api/client.js\nimport axios from \"axios\";\n\n// In Create React App we use process.env.REACT_APP_*\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000/api\";\n\n// Base API client\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\n\n/* -----------------------------\r\n   UPLOAD GUEST PHOTOS\r\n------------------------------ */\nexport const uploadGuestPhotos = async (invitationId, files) => {\n  const formData = new FormData();\n  [...files].forEach(f => formData.append(\"photos\", f));\n  const {\n    data\n  } = await api.post(`/guests/events/${invitationId}/photos`, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n  return data; // { ok, count, ... }\n};\n\n/* -----------------------------\r\n   SUBMIT GUEST PARKING INFO\r\n------------------------------ */\nexport const submitGuestParking = async (invitationId, payload) => {\n  const {\n    data\n  } = await api.post(`/guests/events/${invitationId}/parking`, payload);\n  return data; // { ok: true, ... }\n};\n\n/* -----------------------------\r\n   GET PARKING AVAILABILITY\r\n------------------------------ */\nexport const getParkingAvailability = async () => {\n  const {\n    data\n  } = await api.get(\"/guests/parking/availability\");\n  return data.available; // number\n};\nexport const loginAccount = payload => api.post(\"/auth/login\", payload).then(res => res.data);\nexport const registerAccount = payload => api.post(\"/auth/register\", payload).then(res => res.data);\n\n/* -----------------------------\r\n   ADMIN: CREATE SERVICE\r\n------------------------------ */\nexport const createService = async payload => {\n  const formData = new FormData();\n\n  // Basic fields\n  formData.append(\"service_type\", payload.service_type);\n  formData.append(\"name\", payload.name || \"\");\n  formData.append(\"address\", payload.address || \"\");\n  formData.append(\"price\", payload.price || \"\");\n  formData.append(\"description\", payload.description || \"\");\n  formData.append(\"phone_number\", payload.phone_number || \"\");\n  formData.append(\"email\", payload.email || \"\");\n  if (payload.capacity !== undefined) {\n    formData.append(\"capacity\", payload.capacity || \"\");\n  }\n\n  // Dates as JSON string\n  if (Array.isArray(payload.dates)) {\n    formData.append(\"dates\", JSON.stringify(payload.dates));\n  }\n\n  // Photos\n  if (Array.isArray(payload.photos)) {\n    payload.photos.forEach(file => {\n      formData.append(\"photos\", file);\n    });\n  }\n  const {\n    data\n  } = await api.post(\"/services\", formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n  return data; // { ok, serviceId }\n};\n/* -----------------------------\r\n   ADMIN: LIST SERVICES\r\n------------------------------ */\nexport const listServices = async (options = {}) => {\n  // options can contain { service_type }\n  const params = {};\n  if (options.service_type && options.service_type !== \"All\") {\n    params.service_type = options.service_type;\n  }\n  const {\n    data\n  } = await api.get(\"/services\", {\n    params\n  });\n  // data is { ok, services }\n  return data.services || [];\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","api","create","baseURL","uploadGuestPhotos","invitationId","files","formData","FormData","forEach","f","append","data","post","headers","submitGuestParking","payload","getParkingAvailability","get","available","loginAccount","then","res","registerAccount","createService","service_type","name","address","price","description","phone_number","email","capacity","undefined","Array","isArray","dates","JSON","stringify","photos","file","listServices","options","params","services"],"sources":["C:/Users/hanab/OneDrive/Desktop/cs/Wedding-Planner-App/frontend/src/api/client.js"],"sourcesContent":["// src/Guest/api/client.js\r\nimport axios from \"axios\";\r\n\r\n// In Create React App we use process.env.REACT_APP_*\r\nconst API_BASE_URL =\r\n  process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000/api\";\r\n\r\n// Base API client\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n});\r\n\r\n/* -----------------------------\r\n   UPLOAD GUEST PHOTOS\r\n------------------------------ */\r\nexport const uploadGuestPhotos = async (invitationId, files) => {\r\n  const formData = new FormData();\r\n  [...files].forEach((f) => formData.append(\"photos\", f));\r\n\r\n  const { data } = await api.post(\r\n    `/guests/events/${invitationId}/photos`,\r\n    formData,\r\n    { headers: { \"Content-Type\": \"multipart/form-data\" } }\r\n  );\r\n\r\n  return data; // { ok, count, ... }\r\n};\r\n\r\n/* -----------------------------\r\n   SUBMIT GUEST PARKING INFO\r\n------------------------------ */\r\nexport const submitGuestParking = async (invitationId, payload) => {\r\n  const { data } = await api.post(\r\n    `/guests/events/${invitationId}/parking`,\r\n    payload\r\n  );\r\n  return data; // { ok: true, ... }\r\n};\r\n\r\n/* -----------------------------\r\n   GET PARKING AVAILABILITY\r\n------------------------------ */\r\nexport const getParkingAvailability = async () => {\r\n  const { data } = await api.get(\"/guests/parking/availability\");\r\n  return data.available; // number\r\n};\r\n\r\nexport const loginAccount = (payload) =>\r\n  api.post(\"/auth/login\", payload).then((res) => res.data);\r\n\r\nexport const registerAccount = (payload) =>\r\n  api.post(\"/auth/register\", payload).then((res) => res.data);\r\n\r\n/* -----------------------------\r\n   ADMIN: CREATE SERVICE\r\n------------------------------ */\r\nexport const createService = async (payload) => {\r\n  const formData = new FormData();\r\n\r\n  // Basic fields\r\n  formData.append(\"service_type\", payload.service_type);\r\n  formData.append(\"name\", payload.name || \"\");\r\n  formData.append(\"address\", payload.address || \"\");\r\n  formData.append(\"price\", payload.price || \"\");\r\n  formData.append(\"description\", payload.description || \"\");\r\n  formData.append(\"phone_number\", payload.phone_number || \"\");\r\n  formData.append(\"email\", payload.email || \"\");\r\n\r\n  if (payload.capacity !== undefined) {\r\n    formData.append(\"capacity\", payload.capacity || \"\");\r\n  }\r\n\r\n  // Dates as JSON string\r\n  if (Array.isArray(payload.dates)) {\r\n    formData.append(\"dates\", JSON.stringify(payload.dates));\r\n  }\r\n\r\n  // Photos\r\n  if (Array.isArray(payload.photos)) {\r\n    payload.photos.forEach((file) => {\r\n      formData.append(\"photos\", file);\r\n    });\r\n  }\r\n\r\n  const { data } = await api.post(\"/services\", formData, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n\r\n  return data; // { ok, serviceId }\r\n};\r\n/* -----------------------------\r\n   ADMIN: LIST SERVICES\r\n------------------------------ */\r\nexport const listServices = async (options = {}) => {\r\n  // options can contain { service_type }\r\n  const params = {};\r\n\r\n  if (options.service_type && options.service_type !== \"All\") {\r\n    params.service_type = options.service_type;\r\n  }\r\n\r\n  const { data } = await api.get(\"/services\", { params });\r\n  // data is { ok, services }\r\n  return data.services || [];\r\n};\r\n\r\n\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}