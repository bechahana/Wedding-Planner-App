{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/ll/Wedding-Planner-App/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{getInvitationById}from\"../api/client\";import\"../global.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function InvitationView(){const{id}=useParams();const[invitation,setInvitation]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");useEffect(()=>{async function fetchInvitation(){try{setLoading(true);const data=await getInvitationById(id);setInvitation(data);}catch(err){var _err$response,_err$response$data;setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Invitation not found\");}finally{setLoading(false);}}if(id)fetchInvitation();},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",background:\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"},children:/*#__PURE__*/_jsx(\"div\",{style:{color:\"white\",fontSize:\"1.5rem\"},children:\"Loading invitation...\"})});}if(error||!invitation){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",background:\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"white\",padding:\"2rem\",borderRadius:\"12px\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#dc2626\",marginBottom:\"1rem\"},children:\"Invitation Not Found\"}),/*#__PURE__*/_jsx(\"p\",{children:error||\"The invitation you're looking for doesn't exist.\"})]})});}// Parse the message JSON to get design details\nlet design={template:\"elegant\",primaryColor:\"#8b5cf6\",secondaryColor:\"#f3e8ff\",coupleName:\"\",eventDate:\"\",eventTime:\"\",venueName:invitation.venue_name||invitation.venue_address||\"\"};try{if(invitation.message){const parsed=JSON.parse(invitation.message);design=_objectSpread(_objectSpread({},design),parsed);}}catch(e){console.error(\"Failed to parse invitation message:\",e);}return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:\"100vh\",background:design.secondaryColor||\"#f3e8ff\",padding:\"2rem\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:\"600px\",width:\"100%\",background:\"white\",borderRadius:\"20px\",padding:\"3rem\",boxShadow:\"0 20px 60px rgba(0,0,0,0.3)\",textAlign:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{border:\"3px solid \".concat(design.primaryColor||\"#8b5cf6\"),borderRadius:\"16px\",padding:\"2.5rem\",background:\"white\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"2.5rem\",fontWeight:600,color:design.primaryColor||\"#8b5cf6\",marginBottom:\"1rem\",fontFamily:\"serif\"},children:design.coupleName||\"You're Invited!\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"1.2rem\",color:\"#666\",marginBottom:\"2rem\",fontStyle:\"italic\"},children:\"You're Cordially Invited\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"1.1rem\",color:\"#333\",marginBottom:\"1rem\",lineHeight:\"1.8\"},children:[design.eventDate&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"0.5rem\"},children:[\"\\uD83D\\uDCC5 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(design.eventDate).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})]}),design.eventTime&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"0.5rem\"},children:[\"\\u23F0 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",design.eventTime]}),design.venueName&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"0.5rem\"},children:[\"\\uD83D\\uDCCD \",/*#__PURE__*/_jsx(\"strong\",{children:\"Venue:\"}),\" \",design.venueName]}),invitation.venue_address&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"0.5rem\",fontSize:\"0.95rem\",color:\"#666\"},children:invitation.venue_address})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"2rem\",paddingTop:\"2rem\",borderTop:\"1px solid \".concat(design.secondaryColor||\"#f3e8ff\"),fontSize:\"0.9rem\",color:\"#666\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[\"To: \",invitation.recipient_name||invitation.recipient_email]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"2rem\",fontSize:\"2rem\"},children:\"\\uD83D\\uDC90\"})]})})});}","map":{"version":3,"names":["React","useState","useEffect","useParams","getInvitationById","jsx","_jsx","jsxs","_jsxs","InvitationView","id","invitation","setInvitation","loading","setLoading","error","setError","fetchInvitation","data","err","_err$response","_err$response$data","response","style","minHeight","display","alignItems","justifyContent","background","children","color","fontSize","padding","borderRadius","textAlign","marginBottom","design","template","primaryColor","secondaryColor","coupleName","eventDate","eventTime","venueName","venue_name","venue_address","message","parsed","JSON","parse","_objectSpread","e","console","maxWidth","width","boxShadow","border","concat","fontWeight","fontFamily","fontStyle","lineHeight","Date","toLocaleDateString","weekday","year","month","day","marginTop","paddingTop","borderTop","recipient_name","recipient_email"],"sources":["C:/Users/Lenovo/Desktop/ll/Wedding-Planner-App/frontend/src/Guest/InvitationView.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getInvitationById } from \"../api/client\";\r\nimport \"../global.css\";\r\n\r\nexport default function InvitationView() {\r\n  const { id } = useParams();\r\n  const [invitation, setInvitation] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function fetchInvitation() {\r\n      try {\r\n        setLoading(true);\r\n        const data = await getInvitationById(id);\r\n        setInvitation(data);\r\n      } catch (err) {\r\n        setError(err?.response?.data?.error || \"Invitation not found\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    if (id) fetchInvitation();\r\n  }, [id]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ \r\n        minHeight: \"100vh\", \r\n        display: \"flex\", \r\n        alignItems: \"center\", \r\n        justifyContent: \"center\",\r\n        background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"\r\n      }}>\r\n        <div style={{ color: \"white\", fontSize: \"1.5rem\" }}>Loading invitation...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !invitation) {\r\n    return (\r\n      <div style={{ \r\n        minHeight: \"100vh\", \r\n        display: \"flex\", \r\n        alignItems: \"center\", \r\n        justifyContent: \"center\",\r\n        background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"\r\n      }}>\r\n        <div style={{ \r\n          background: \"white\", \r\n          padding: \"2rem\", \r\n          borderRadius: \"12px\",\r\n          textAlign: \"center\"\r\n        }}>\r\n          <h2 style={{ color: \"#dc2626\", marginBottom: \"1rem\" }}>Invitation Not Found</h2>\r\n          <p>{error || \"The invitation you're looking for doesn't exist.\"}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Parse the message JSON to get design details\r\n  let design = {\r\n    template: \"elegant\",\r\n    primaryColor: \"#8b5cf6\",\r\n    secondaryColor: \"#f3e8ff\",\r\n    coupleName: \"\",\r\n    eventDate: \"\",\r\n    eventTime: \"\",\r\n    venueName: invitation.venue_name || invitation.venue_address || \"\"\r\n  };\r\n\r\n  try {\r\n    if (invitation.message) {\r\n      const parsed = JSON.parse(invitation.message);\r\n      design = { ...design, ...parsed };\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Failed to parse invitation message:\", e);\r\n  }\r\n\r\n  return (\r\n    <div style={{ \r\n      minHeight: \"100vh\", \r\n      background: design.secondaryColor || \"#f3e8ff\",\r\n      padding: \"2rem\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\"\r\n    }}>\r\n      <div style={{\r\n        maxWidth: \"600px\",\r\n        width: \"100%\",\r\n        background: \"white\",\r\n        borderRadius: \"20px\",\r\n        padding: \"3rem\",\r\n        boxShadow: \"0 20px 60px rgba(0,0,0,0.3)\",\r\n        textAlign: \"center\"\r\n      }}>\r\n        {/* Decorative border */}\r\n        <div style={{\r\n          border: `3px solid ${design.primaryColor || \"#8b5cf6\"}`,\r\n          borderRadius: \"16px\",\r\n          padding: \"2.5rem\",\r\n          background: \"white\"\r\n        }}>\r\n          {/* Couple Name */}\r\n          <h1 style={{\r\n            fontSize: \"2.5rem\",\r\n            fontWeight: 600,\r\n            color: design.primaryColor || \"#8b5cf6\",\r\n            marginBottom: \"1rem\",\r\n            fontFamily: \"serif\"\r\n          }}>\r\n            {design.coupleName || \"You're Invited!\"}\r\n          </h1>\r\n\r\n          {/* Invitation Text */}\r\n          <div style={{\r\n            fontSize: \"1.2rem\",\r\n            color: \"#666\",\r\n            marginBottom: \"2rem\",\r\n            fontStyle: \"italic\"\r\n          }}>\r\n            You're Cordially Invited\r\n          </div>\r\n\r\n          {/* Event Details */}\r\n          <div style={{\r\n            fontSize: \"1.1rem\",\r\n            color: \"#333\",\r\n            marginBottom: \"1rem\",\r\n            lineHeight: \"1.8\"\r\n          }}>\r\n            {design.eventDate && (\r\n              <div style={{ marginBottom: \"0.5rem\" }}>\r\n                üìÖ <strong>Date:</strong> {new Date(design.eventDate).toLocaleDateString('en-US', { \r\n                  weekday: 'long', \r\n                  year: 'numeric', \r\n                  month: 'long', \r\n                  day: 'numeric' \r\n                })}\r\n              </div>\r\n            )}\r\n            {design.eventTime && (\r\n              <div style={{ marginBottom: \"0.5rem\" }}>\r\n                ‚è∞ <strong>Time:</strong> {design.eventTime}\r\n              </div>\r\n            )}\r\n            {design.venueName && (\r\n              <div style={{ marginBottom: \"0.5rem\" }}>\r\n                üìç <strong>Venue:</strong> {design.venueName}\r\n              </div>\r\n            )}\r\n            {invitation.venue_address && (\r\n              <div style={{ marginBottom: \"0.5rem\", fontSize: \"0.95rem\", color: \"#666\" }}>\r\n                {invitation.venue_address}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Recipient Info */}\r\n          <div style={{\r\n            marginTop: \"2rem\",\r\n            paddingTop: \"2rem\",\r\n            borderTop: `1px solid ${design.secondaryColor || \"#f3e8ff\"}`,\r\n            fontSize: \"0.9rem\",\r\n            color: \"#666\"\r\n          }}>\r\n            <div>To: {invitation.recipient_name || invitation.recipient_email}</div>\r\n          </div>\r\n\r\n          {/* Decorative Element */}\r\n          <div style={{\r\n            marginTop: \"2rem\",\r\n            fontSize: \"2rem\"\r\n          }}>\r\n            üíê\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}