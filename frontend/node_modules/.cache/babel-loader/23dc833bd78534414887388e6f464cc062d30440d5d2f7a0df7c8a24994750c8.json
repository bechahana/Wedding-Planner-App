{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hanab\\\\OneDrive\\\\Desktop\\\\cs\\\\Wedding-Planner-App\\\\frontend\\\\src\\\\User\\\\ManageServices\\\\BrowseServices.js\",\n  _s = $RefreshSig$();\n// src/User/BrowseServices.js\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport \"./user.css\"; // or reuse admin.css for now\nimport { listServices } from \"./api/client\";\nimport { SERVICE_TYPES_WITH_ALL } from \"../ManageServices/\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BrowseServices() {\n  _s();\n  const [services, setServices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n  const [typeFilter, setTypeFilter] = useState(\"All\");\n  const [search, setSearch] = useState(\"\");\n  useEffect(() => {\n    let mounted = true;\n    setLoading(true);\n    setErr(\"\");\n    listServices({\n      service_type: typeFilter === \"All\" ? undefined : typeFilter\n    }).then(data => {\n      if (mounted) setServices(data);\n    }).catch(e => {\n      console.error(e);\n      if (mounted) setErr(\"Failed to load services\");\n    }).finally(() => {\n      if (mounted) setLoading(false);\n    });\n    return () => {\n      mounted = false;\n    };\n  }, [typeFilter]);\n  const filtered = useMemo(() => {\n    const term = search.trim().toLowerCase();\n    return services.filter(s => {\n      if (!term) return true;\n      const text = `${s.name} ${s.address || \"\"} ${s.description || \"\"} ${s.email || \"\"}`.toLowerCase();\n      return text.includes(term);\n    });\n  }, [services, search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-services-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Available Wedding Services\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"service-filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: typeFilter,\n        onChange: e => setTypeFilter(e.target.value),\n        children: SERVICE_TYPES_WITH_ALL.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t,\n          children: t\n        }, t, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by name, address, description\\u2026\",\n        value: search,\n        onChange: e => setSearch(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading services\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }, this), !loading && !err && filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No services found for this filter.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"service-list\",\n      children: filtered.map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"service-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"service-type\",\n          children: s.service_type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: s.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), s.address && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: s.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Price: \\u20AC\", s.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), s.description && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: s.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 31\n        }, this), s.photos && s.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"service-photos\",\n          children: s.photos.map((url, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: url,\n            alt: `${s.name} ${i + 1}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Contact: \", s.phone_number || \"N/A\", \" | \", s.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, s.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(BrowseServices, \"yqC4IUhRY6PxYmQbjvcQmaM/PHM=\");\n_c = BrowseServices;\nvar _c;\n$RefreshReg$(_c, \"BrowseServices\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","listServices","SERVICE_TYPES_WITH_ALL","jsxDEV","_jsxDEV","BrowseServices","_s","services","setServices","loading","setLoading","err","setErr","typeFilter","setTypeFilter","search","setSearch","mounted","service_type","undefined","then","data","catch","e","console","error","finally","filtered","term","trim","toLowerCase","filter","s","text","name","address","description","email","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","map","t","type","placeholder","length","price","photos","url","i","src","alt","phone_number","id","_c","$RefreshReg$"],"sources":["C:/Users/hanab/OneDrive/Desktop/cs/Wedding-Planner-App/frontend/src/User/ManageServices/BrowseServices.js"],"sourcesContent":["// src/User/BrowseServices.js\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport \"./user.css\"; // or reuse admin.css for now\r\nimport { listServices } from \"./api/client\";\r\nimport { SERVICE_TYPES_WITH_ALL } from \"../ManageServices/\";\r\n\r\nexport default function BrowseServices() {\r\n  const [services, setServices] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(\"\");\r\n  const [typeFilter, setTypeFilter] = useState(\"All\");\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setLoading(true);\r\n    setErr(\"\");\r\n\r\n    listServices({\r\n      service_type: typeFilter === \"All\" ? undefined : typeFilter,\r\n    })\r\n      .then((data) => {\r\n        if (mounted) setServices(data);\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        if (mounted) setErr(\"Failed to load services\");\r\n      })\r\n      .finally(() => {\r\n        if (mounted) setLoading(false);\r\n      });\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [typeFilter]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const term = search.trim().toLowerCase();\r\n    return services.filter((s) => {\r\n      if (!term) return true;\r\n      const text =\r\n        `${s.name} ${s.address || \"\"} ${s.description || \"\"} ${s.email || \"\"}`.toLowerCase();\r\n      return text.includes(term);\r\n    });\r\n  }, [services, search]);\r\n\r\n  return (\r\n    <div className=\"user-services-page\">\r\n      <h2>Available Wedding Services</h2>\r\n\r\n      {/* Category filter */}\r\n      <div className=\"service-filters\">\r\n        <select\r\n          value={typeFilter}\r\n          onChange={(e) => setTypeFilter(e.target.value)}\r\n        >\r\n          {SERVICE_TYPES_WITH_ALL.map((t) => (\r\n            <option key={t} value={t}>\r\n              {t}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        {/* Simple text search */}\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by name, address, description…\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {loading && <p>Loading services…</p>}\r\n      {err && <p className=\"error\">{err}</p>}\r\n\r\n      {!loading && !err && filtered.length === 0 && (\r\n        <p>No services found for this filter.</p>\r\n      )}\r\n\r\n      <div className=\"service-list\">\r\n        {filtered.map((s) => (\r\n          <div key={s.id} className=\"service-card\">\r\n            <div className=\"service-type\">{s.service_type}</div>\r\n            <h3>{s.name}</h3>\r\n            {s.address && <p>{s.address}</p>}\r\n            <p>Price: €{s.price}</p>\r\n            {s.description && <p>{s.description}</p>}\r\n            {s.photos && s.photos.length > 0 && (\r\n              <div className=\"service-photos\">\r\n                {s.photos.map((url, i) => (\r\n                  <img key={i} src={url} alt={`${s.name} ${i + 1}`} />\r\n                ))}\r\n              </div>\r\n            )}\r\n            <p>\r\n              Contact: {s.phone_number || \"N/A\"} | {s.email}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}