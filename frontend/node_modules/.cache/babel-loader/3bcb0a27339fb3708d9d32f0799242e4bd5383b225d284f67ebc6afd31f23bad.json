{"ast":null,"code":"import{useState,useRef}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddPhotos(){const[selectedFile,setSelectedFile]=useState(null);const[coupleName,setCoupleName]=useState(\"\");const[guestName,setGuestName]=useState(\"\");const fileInputRef=useRef(null);const handleFileChange=e=>{setSelectedFile(e.target.files[0]||null);};const handleUpload=async()=>{if(!coupleName.trim()){alert(\"Please enter the couple's name.\");return;}if(!selectedFile){alert(\"Please choose a photo first.\");return;}const formData=new FormData();// MUST match backend field names:\n// router.post(\"/photos\", upload.array(\"photos\", 10) ...)\nformData.append(\"coupleName\",coupleName.trim());formData.append(\"guestName\",guestName.trim());formData.append(\"photos\",selectedFile);try{await axios.post(\"http://localhost:5000/api/guests/events/photos\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});alert(\"Photo uploaded successfully!\");setSelectedFile(null);setCoupleName(\"\");setGuestName(\"\");if(fileInputRef.current)fileInputRef.current.value=\"\";}catch(err){console.error(err);alert(\"Upload failed.\");}};const pageStyle=\"\\n    body {\\n      background: #fcf7fa;\\n      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;\\n    }\\n\\n    .guest-upload-page {\\n      min-height: 100vh;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      padding: 40px 16px;\\n    }\\n\\n    .guest-upload-card {\\n      width: 100%;\\n      max-width: 520px;\\n      background: #ffffff;\\n      border-radius: 24px;\\n      box-shadow: 0 14px 35px rgba(0, 0, 0, 0.09);\\n      padding: 36px 32px 32px;\\n      text-align: center;\\n      animation: fadeIn 0.35s ease;\\n    }\\n\\n    .guest-upload-title {\\n      font-size: 26px;\\n      font-weight: 700;\\n      color: #b03386;\\n      margin-bottom: 6px;\\n    }\\n\\n    .guest-upload-subtitle {\\n      font-size: 18px;\\n      color: #7a4ba1;\\n      margin-bottom: 18px;\\n    }\\n\\n    .guest-upload-desc {\\n      font-size: 15px;\\n      color: #555;\\n      margin-bottom: 26px;\\n    }\\n\\n    .guest-upload-label {\\n      display: block;\\n      text-align: left;\\n      font-size: 14px;\\n      font-weight: 500;\\n      color: #5a4c73;\\n      margin-bottom: 6px;\\n    }\\n\\n    /* Hide native browser file input */\\n    .guest-upload-input-hidden {\\n      display: none;\\n    }\\n\\n    /* Custom pretty file selector */\\n    .guest-upload-input-fake {\\n      width: 100%;\\n      padding: 10px 14px;\\n      border-radius: 12px;\\n      border: 1px solid #e0d5f4;\\n      background: #faf8ff;\\n      display: flex;\\n      align-items: center;\\n      gap: 10px;\\n      cursor: pointer;\\n      transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;\\n    }\\n\\n    .guest-upload-input-fake:hover {\\n      border-color: #c0abea;\\n      background: #f4f0ff;\\n      box-shadow: 0 0 0 2px rgba(192, 171, 234, 0.25);\\n    }\\n\\n    .guest-upload-input-btn {\\n      padding: 6px 12px;\\n      border-radius: 999px;\\n      background: #b872d9;\\n      color: #fff;\\n      font-size: 13px;\\n      font-weight: 600;\\n      white-space: nowrap;\\n    }\\n\\n    .guest-upload-input-text {\\n      font-size: 14px;\\n      color: #666;\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      white-space: nowrap;\\n    }\\n\\n    .guest-upload-btn {\\n      margin-top: 22px;\\n      width: 100%;\\n      padding: 13px 0;\\n      border-radius: 14px;\\n      border: none;\\n      background: linear-gradient(90deg, #b872d9, #a246c7);\\n      color: #fff;\\n      font-size: 16px;\\n      font-weight: 600;\\n      cursor: pointer;\\n      transition: opacity 0.25s ease, transform 0.25s ease;\\n    }\\n\\n    .guest-upload-btn:hover {\\n      opacity: 0.9;\\n      transform: translateY(-1px);\\n    }\\n\\n    @keyframes fadeIn {\\n      from { opacity: 0; transform: translateY(10px); }\\n      to { opacity: 1; transform: translateY(0); }\\n    }\\n\\n    /* Simple text inputs above file selector */\\n    .guest-upload-text-input {\\n      width: 100%;\\n      padding: 10px 12px;\\n      border-radius: 10px;\\n      border: 1px solid #e0d5f4;\\n      background: #faf8ff;\\n      font-size: 14px;\\n      margin-bottom: 10px;\\n      box-sizing: border-box;\\n    }\\n  \";const triggerFileSelect=()=>{if(fileInputRef.current){fileInputRef.current.click();}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:pageStyle}),/*#__PURE__*/_jsx(\"div\",{className:\"guest-upload-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"guest-upload-card\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"guest-upload-title\",children:\"Guest \\u2014 Add Photos\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"guest-upload-subtitle\",children:\"Share Wedding Photos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"guest-upload-desc\",children:\"Upload your favorite moments for the couple!\"}),/*#__PURE__*/_jsx(\"input\",{className:\"guest-upload-text-input\",type:\"text\",placeholder:\"Couple's name e.g. Emma & David\",value:coupleName,onChange:e=>setCoupleName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"guest-upload-text-input\",type:\"text\",placeholder:\"Your name (optional)\",value:guestName,onChange:e=>setGuestName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,id:\"photo-input\",type:\"file\",accept:\"image/*\",className:\"guest-upload-input-hidden\",onChange:handleFileChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"guest-upload-input-fake\",onClick:triggerFileSelect,children:[/*#__PURE__*/_jsx(\"span\",{className:\"guest-upload-input-btn\",children:\"Choose a file\"}),/*#__PURE__*/_jsx(\"span\",{className:\"guest-upload-input-text\",children:selectedFile?selectedFile.name:\"No file selected\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"guest-upload-btn\",onClick:handleUpload,children:\"Upload Photo\"}),/*#__PURE__*/_jsx(Link,{to:\"/album\",style:{display:\"block\",marginTop:\"18px\",fontSize:\"15px\",fontWeight:\"600\",color:\"#b03386\",textDecoration:\"none\"},children:\"\\uD83D\\uDCF8 View Album\"})]})})]});}","map":{"version":3,"names":["useState","useRef","axios","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddPhotos","selectedFile","setSelectedFile","coupleName","setCoupleName","guestName","setGuestName","fileInputRef","handleFileChange","e","target","files","handleUpload","trim","alert","formData","FormData","append","post","headers","current","value","err","console","error","pageStyle","triggerFileSelect","click","children","className","type","placeholder","onChange","ref","id","accept","onClick","name","to","style","display","marginTop","fontSize","fontWeight","color","textDecoration"],"sources":["C:/Users/Lenovo/Desktop/ll/Wedding-Planner-App/frontend/src/Guest/AddPhotos.jsx"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nexport default function AddPhotos() {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [coupleName, setCoupleName] = useState(\"\");\r\n  const [guestName, setGuestName] = useState(\"\");\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleFileChange = (e) => {\r\n    setSelectedFile(e.target.files[0] || null);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!coupleName.trim()) {\r\n      alert(\"Please enter the couple's name.\");\r\n      return;\r\n    }\r\n\r\n    if (!selectedFile) {\r\n      alert(\"Please choose a photo first.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    // MUST match backend field names:\r\n    // router.post(\"/photos\", upload.array(\"photos\", 10) ...)\r\n    formData.append(\"coupleName\", coupleName.trim());\r\n    formData.append(\"guestName\", guestName.trim());\r\n    formData.append(\"photos\", selectedFile);\r\n\r\n    try {\r\n      await axios.post(\r\n        \"http://localhost:5000/api/guests/events/photos\",\r\n        formData,\r\n        { headers: { \"Content-Type\": \"multipart/form-data\" } }\r\n      );\r\n      alert(\"Photo uploaded successfully!\");\r\n      setSelectedFile(null);\r\n      setCoupleName(\"\");\r\n      setGuestName(\"\");\r\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Upload failed.\");\r\n    }\r\n  };\r\n\r\n  const pageStyle = `\r\n    body {\r\n      background: #fcf7fa;\r\n      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;\r\n    }\r\n\r\n    .guest-upload-page {\r\n      min-height: 100vh;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding: 40px 16px;\r\n    }\r\n\r\n    .guest-upload-card {\r\n      width: 100%;\r\n      max-width: 520px;\r\n      background: #ffffff;\r\n      border-radius: 24px;\r\n      box-shadow: 0 14px 35px rgba(0, 0, 0, 0.09);\r\n      padding: 36px 32px 32px;\r\n      text-align: center;\r\n      animation: fadeIn 0.35s ease;\r\n    }\r\n\r\n    .guest-upload-title {\r\n      font-size: 26px;\r\n      font-weight: 700;\r\n      color: #b03386;\r\n      margin-bottom: 6px;\r\n    }\r\n\r\n    .guest-upload-subtitle {\r\n      font-size: 18px;\r\n      color: #7a4ba1;\r\n      margin-bottom: 18px;\r\n    }\r\n\r\n    .guest-upload-desc {\r\n      font-size: 15px;\r\n      color: #555;\r\n      margin-bottom: 26px;\r\n    }\r\n\r\n    .guest-upload-label {\r\n      display: block;\r\n      text-align: left;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      color: #5a4c73;\r\n      margin-bottom: 6px;\r\n    }\r\n\r\n    /* Hide native browser file input */\r\n    .guest-upload-input-hidden {\r\n      display: none;\r\n    }\r\n\r\n    /* Custom pretty file selector */\r\n    .guest-upload-input-fake {\r\n      width: 100%;\r\n      padding: 10px 14px;\r\n      border-radius: 12px;\r\n      border: 1px solid #e0d5f4;\r\n      background: #faf8ff;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 10px;\r\n      cursor: pointer;\r\n      transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;\r\n    }\r\n\r\n    .guest-upload-input-fake:hover {\r\n      border-color: #c0abea;\r\n      background: #f4f0ff;\r\n      box-shadow: 0 0 0 2px rgba(192, 171, 234, 0.25);\r\n    }\r\n\r\n    .guest-upload-input-btn {\r\n      padding: 6px 12px;\r\n      border-radius: 999px;\r\n      background: #b872d9;\r\n      color: #fff;\r\n      font-size: 13px;\r\n      font-weight: 600;\r\n      white-space: nowrap;\r\n    }\r\n\r\n    .guest-upload-input-text {\r\n      font-size: 14px;\r\n      color: #666;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n\r\n    .guest-upload-btn {\r\n      margin-top: 22px;\r\n      width: 100%;\r\n      padding: 13px 0;\r\n      border-radius: 14px;\r\n      border: none;\r\n      background: linear-gradient(90deg, #b872d9, #a246c7);\r\n      color: #fff;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      cursor: pointer;\r\n      transition: opacity 0.25s ease, transform 0.25s ease;\r\n    }\r\n\r\n    .guest-upload-btn:hover {\r\n      opacity: 0.9;\r\n      transform: translateY(-1px);\r\n    }\r\n\r\n    @keyframes fadeIn {\r\n      from { opacity: 0; transform: translateY(10px); }\r\n      to { opacity: 1; transform: translateY(0); }\r\n    }\r\n\r\n    /* Simple text inputs above file selector */\r\n    .guest-upload-text-input {\r\n      width: 100%;\r\n      padding: 10px 12px;\r\n      border-radius: 10px;\r\n      border: 1px solid #e0d5f4;\r\n      background: #faf8ff;\r\n      font-size: 14px;\r\n      margin-bottom: 10px;\r\n      box-sizing: border-box;\r\n    }\r\n  `;\r\n\r\n  const triggerFileSelect = () => {\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.click();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{pageStyle}</style>\r\n\r\n      <div className=\"guest-upload-page\">\r\n        <div className=\"guest-upload-card\">\r\n          <h1 className=\"guest-upload-title\">Guest â€” Add Photos</h1>\r\n          <h2 className=\"guest-upload-subtitle\">Share Wedding Photos</h2>\r\n          <p className=\"guest-upload-desc\">\r\n            Upload your favorite moments for the couple!\r\n          </p>\r\n\r\n          {/* Couple name + guest name */}\r\n          <input\r\n            className=\"guest-upload-text-input\"\r\n            type=\"text\"\r\n            placeholder=\"Couple's name e.g. Emma & David\"\r\n            value={coupleName}\r\n            onChange={(e) => setCoupleName(e.target.value)}\r\n          />\r\n          <input\r\n            className=\"guest-upload-text-input\"\r\n            type=\"text\"\r\n            placeholder=\"Your name (optional)\"\r\n            value={guestName}\r\n            onChange={(e) => setGuestName(e.target.value)}\r\n          />\r\n\r\n          {/* Hidden real input */}\r\n          <input\r\n            ref={fileInputRef}\r\n            id=\"photo-input\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            className=\"guest-upload-input-hidden\"\r\n            onChange={handleFileChange}\r\n          />\r\n\r\n          {/* Custom file selector */}\r\n          <div className=\"guest-upload-input-fake\" onClick={triggerFileSelect}>\r\n            <span className=\"guest-upload-input-btn\">Choose a file</span>\r\n            <span className=\"guest-upload-input-text\">\r\n              {selectedFile ? selectedFile.name : \"No file selected\"}\r\n            </span>\r\n          </div>\r\n\r\n          <button className=\"guest-upload-btn\" onClick={handleUpload}>\r\n            Upload Photo\r\n          </button>\r\n           <Link\r\n  to=\"/album\"\r\n  style={{\r\n    display: \"block\",\r\n    marginTop: \"18px\",\r\n    fontSize: \"15px\",\r\n    fontWeight: \"600\",\r\n    color: \"#b03386\",\r\n    textDecoration: \"none\"\r\n  }}\r\n>\r\n  ðŸ“¸ View Album\r\n</Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n    \r\n  );\r\n\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}