{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hanab\\\\OneDrive\\\\Desktop\\\\cs\\\\Wedding-Planner-App\\\\frontend\\\\src\\\\Guest\\\\PhotoUploader.jsx\",\n  _s = $RefreshSig$();\n// src/components/PhotoUploader.jsx\nimport { useState } from \"react\";\nimport { uploadGuestPhotos } from \"./api/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PhotoUploader({\n  invitationId\n}) {\n  _s();\n  const [coupleName, setCoupleName] = useState(\"\");\n  const [guestName, setGuestName] = useState(\"\");\n  const [files, setFiles] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [status, setStatus] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const handleFilesChange = e => {\n    const selected = Array.from(e.target.files || []);\n    setFiles(selected);\n    setStatus(`üì∏ ${selected.length} photo(s) selected for ${coupleName || \"this wedding\"}`);\n    setError(\"\");\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setStatus(\"\");\n    if (!files.length) {\n      setError(\"Please select at least one photo.\");\n      return;\n    }\n    try {\n      setIsUploading(true);\n\n      // Call our API client ‚Äì this builds the URL:\n      // POST {VITE_API_BASE_URL}/guests/events/:invitationId/photos\n      const result = await uploadGuestPhotos(invitationId, files);\n      setStatus(`‚úÖ Upload success! ${(result === null || result === void 0 ? void 0 : result.count) || files.length} photo(s) uploaded for ${coupleName || \"this wedding\"}.`);\n      setFiles([]);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Upload failed:\", err);\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Unknown error while uploading\";\n      setError(`Upload failed: ${msg}`);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"add-form\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Couple's Name:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"e.g., Emma & Liam\",\n      value: coupleName,\n      onChange: e => setCoupleName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Your Name:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter your name\",\n      value: guestName,\n      onChange: e => setGuestName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Select Photos:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      onChange: handleFilesChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-upload\",\n      type: \"submit\",\n      disabled: isUploading,\n      children: isUploading ? \"Uploading‚Ä¶\" : \"Upload Photos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), status && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"status-badge\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 18\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"#d32f2f\",\n        marginTop: \"8px\",\n        fontSize: \"0.95rem\"\n      },\n      children: [\"\\u274C \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(PhotoUploader, \"pNBj9YBC9EevmZLMZiEWhO+6nPc=\");\n_c = PhotoUploader;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploader\");","map":{"version":3,"names":["useState","uploadGuestPhotos","jsxDEV","_jsxDEV","PhotoUploader","invitationId","_s","coupleName","setCoupleName","guestName","setGuestName","files","setFiles","isUploading","setIsUploading","status","setStatus","error","setError","handleFilesChange","e","selected","Array","from","target","length","handleSubmit","preventDefault","result","count","err","_err$response","_err$response$data","console","msg","response","data","message","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","multiple","disabled","style","color","marginTop","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/hanab/OneDrive/Desktop/cs/Wedding-Planner-App/frontend/src/Guest/PhotoUploader.jsx"],"sourcesContent":["// src/components/PhotoUploader.jsx\r\nimport { useState } from \"react\";\r\nimport { uploadGuestPhotos } from \"./api/client\";\r\n\r\nexport default function PhotoUploader({ invitationId }) {\r\n  const [coupleName, setCoupleName] = useState(\"\");\r\n  const [guestName, setGuestName] = useState(\"\");\r\n  const [files, setFiles] = useState([]);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [status, setStatus] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleFilesChange = (e) => {\r\n    const selected = Array.from(e.target.files || []);\r\n    setFiles(selected);\r\n    setStatus(`üì∏ ${selected.length} photo(s) selected for ${coupleName || \"this wedding\"}`);\r\n    setError(\"\");\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setStatus(\"\");\r\n\r\n    if (!files.length) {\r\n      setError(\"Please select at least one photo.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsUploading(true);\r\n\r\n      // Call our API client ‚Äì this builds the URL:\r\n      // POST {VITE_API_BASE_URL}/guests/events/:invitationId/photos\r\n      const result = await uploadGuestPhotos(invitationId, files);\r\n\r\n      setStatus(\r\n        `‚úÖ Upload success! ${result?.count || files.length} photo(s) uploaded for ${coupleName || \"this wedding\"}.`\r\n      );\r\n      setFiles([]);\r\n    } catch (err) {\r\n      console.error(\"Upload failed:\", err);\r\n      const msg =\r\n        err?.response?.data?.message ||\r\n        err?.message ||\r\n        \"Unknown error while uploading\";\r\n\r\n      setError(`Upload failed: ${msg}`);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"add-form\" onSubmit={handleSubmit}>\r\n      <label>Couple&apos;s Name:</label>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"e.g., Emma & Liam\"\r\n        value={coupleName}\r\n        onChange={(e) => setCoupleName(e.target.value)}\r\n      />\r\n\r\n      <label>Your Name:</label>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter your name\"\r\n        value={guestName}\r\n        onChange={(e) => setGuestName(e.target.value)}\r\n      />\r\n\r\n      <label>Select Photos:</label>\r\n      <input type=\"file\" multiple onChange={handleFilesChange} />\r\n\r\n      <button className=\"btn-upload\" type=\"submit\" disabled={isUploading}>\r\n        {isUploading ? \"Uploading‚Ä¶\" : \"Upload Photos\"}\r\n      </button>\r\n\r\n      {status && <p className=\"status-badge\">{status}</p>}\r\n      {error && (\r\n        <p style={{ color: \"#d32f2f\", marginTop: \"8px\", fontSize: \"0.95rem\" }}>\r\n          ‚ùå {error}\r\n        </p>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}